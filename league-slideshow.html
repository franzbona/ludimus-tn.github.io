<html>

<head>
	<script async src="https://www.googletagmanager.com/gtag/js?id=UA-111599032-1"></script>

<script>

    window.dataLayer = window.dataLayer || [];

    function gtag(){dataLayer.push(arguments);}

    gtag('js', new Date());



    gtag('config', 'UA-111599032-1');

</script>

	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">

	<title>ludimus league 2019-20</title>
	<meta property="og:image" content="https://dl.dropbox.com/s/83rbvtvzos9rapo/logo.png" />
	<meta property="og:description" content="Ludimus League: il campionato di giochi da tavolo a Trento e Rovereto" />


	<link href="https://fonts.googleapis.com/css?family=Open+Sans:400,700|Roboto+Condensed|Raleway|Roboto+Mono" rel="stylesheet">
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.2/css/bootstrap.min.css"
	  crossorigin="anonymous">
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css"
	  crossorigin="anonymous">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/slick-carousel@1.8.1/slick/slick.css" />
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/slick-carousel@1.8.1/slick/slick-theme.css" />

	<link rel="stylesheet" href="./style.css?t={{ hash }}">

	<link rel="icon" type="image/png" href="../static/img/favicon/favicon-32x32.png" sizes="32x32" />
    <link rel="icon" type="image/png" href="../static/img/favicon/favicon-16x16.png" sizes="16x16" />

</head>

<body>

	<section id="league__slideshow" class="league__slideshow">
        <div>
            Logo ludimus + scritta Ludimus League 2019
        </div>

		<div class="league__ranking" id="ranking">
			<h4 class="centered-text">Classifica</h4>
			<script src="https://cdn.jsdelivr.net/npm/vue"></script>
<script src="https://unpkg.com/axios/dist/axios.min.js"></script>

<div id="rank">
  <div v-if="loading">
    <h3 class="centered-text" style="color: darkgrey;">
      <div class="spinner">
        <div class="bounce1"></div>
        <div class="bounce2"></div>
        <div class="bounce3"></div>
      </div>
    </h3>
  </div>
  <div v-else>
    <div class="centered-text">
        <a @click="setGameVisibility" style="color: #ec3645; cursor: pointer;"><span v-if="!areGamesVisible"> Clicca per mostrare il dettaglio giochi ►</span><span v-if="areGamesVisible"> ◀︎ Nascondi dettaglio giochi</span></a>
        <p></p>
      </div>
    <div class="table-responsive">
      <table class="table table-hover table-striped" v-if="partecipants">
          <thead class="thead-light">
            <tr>
              <th scope="col">Posizione</th>
              <th scope="col">Partecipante</th>
              <th scope="col">Partite registrate</th>
              <th scope="col">Jolly utilizzati</th>
              <th scope="col">Punteggio</th>
              <th scope="col" v-show="areGamesVisible">7 Wonders Duel</th>
              <th scope="col" v-show="areGamesVisible">Azul</th>
              <th scope="col" v-show="areGamesVisible">Biblios</th>
              <th scope="col" v-show="areGamesVisible">Carcassonne</th>
              <th scope="col" v-show="areGamesVisible">Catan</th>
              <th scope="col" v-show="areGamesVisible">Coloretto</th>
              <th scope="col" v-show="areGamesVisible">Dixit</th>
              <th scope="col" v-show="areGamesVisible">Kingdomino</th>
              <th scope="col" v-show="areGamesVisible">Nome in Codice</th>
              <th scope="col" v-show="areGamesVisible">Orleans</th>
              <th scope="col" v-show="areGamesVisible">Pandemia</th>
              <th scope="col" v-show="areGamesVisible">Pozioni Esplosive</th>
              <th scope="col" v-show="areGamesVisible">Quadropolis</th>
              <th scope="col" v-show="areGamesVisible">Santorini</th>
              <th scope="col" v-show="areGamesVisible">Ticket to Ride</th>
            </tr>
          </thead>
          <tbody>
            <tr v-for="partecipant in partecipants" :key="partecipants.position">
              <th scope="row">{{ partecipant.position }}°</th>
              <td>
                {{ partecipant.name }} {{ getFirstLetter(partecipant.lastName) }}
              </td>
              <td>{{ partecipant.matches }}</td>
              <td>{{ partecipant.jolly }}</td>
              <td>{{ partecipant.points }}</td>
              <td v-show="areGamesVisible">{{ setGameAsPlayed(partecipant.wondersDuel) }}</td>
              <td v-show="areGamesVisible">{{ setGameAsPlayed(partecipant.azul) }}</td>
              <td v-show="areGamesVisible">{{ setGameAsPlayed(partecipant.biblios) }}</td>
              <td v-show="areGamesVisible">{{ setGameAsPlayed(partecipant.carcassonne) }}</td>
              <td v-show="areGamesVisible">{{ setGameAsPlayed(partecipant.catan) }}</td>
              <td v-show="areGamesVisible">{{ setGameAsPlayed(partecipant.coloretto) }}</td>
              <td v-show="areGamesVisible">{{ setGameAsPlayed(partecipant.dixit) }}</td>
              <td v-show="areGamesVisible">{{ setGameAsPlayed(partecipant.kingdomino) }}</td>
              <td v-show="areGamesVisible">{{ setGameAsPlayed(partecipant.nomeInCodice) }}</td>
              <td v-show="areGamesVisible">{{ setGameAsPlayed(partecipant.orleans) }}</td>
              <td v-show="areGamesVisible">{{ setGameAsPlayed(partecipant.pandemia) }}</td>
              <td v-show="areGamesVisible">{{ setGameAsPlayed(partecipant.pozioniEsplosive) }}</td>
              <td v-show="areGamesVisible">{{ setGameAsPlayed(partecipant.quadropolis) }}</td>
              <td v-show="areGamesVisible">{{ setGameAsPlayed(partecipant.santorini) }}</td>
              <td v-show="areGamesVisible">{{ setGameAsPlayed(partecipant.ticketToRide) }}</td>
            </tr>
          </tbody>
      </table>
    </div>
  </div>
</div>

<script>
  var app = new Vue({
    el: "#rank",
    data: {
      partecipants: [],
      loading: true,
      areGamesVisible: false
    },
    mounted() {
      axios
        .get(
          "https://script.google.com/macros/s/AKfycbyhMbmkrZ3UozK2PZv1BIHaa2HGpxxg6n-1ynmGWRoIi-35JQo/exec"
        )
        .then(response => {
          this.partecipants = response.data.partecipants;
        })
        .catch(error => {
          console.error(error);
        })
        .finally(() => (this.loading = false));
    },
    methods: {
      getFirstLetter(data) {
        letter = data.split('', 1)
        firstLetter = letter[0] + '.'
        return firstLetter
      },
      setGameAsPlayed(points) {
        if (points === 0) {
          return "-"
        } else {
          return points
        }
      },
      setGameVisibility() {
        return this.areGamesVisible = !this.areGamesVisible
      }
    }
  })
</script>
        </div>
        
        <div>
            Premio 1
        </div>

        <div>
            Premio 2
        </div>

        <div>
            Premio 3
        </div>

        <div>
            Partecipa alla Ludimus League
        </div>
		
    </section>
    
    <script type="text/javascript" src="//code.jquery.com/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="//code.jquery.com/jquery-migrate-1.2.1.min.js"></script>
    <script type="text/javascript" src="//cdn.jsdelivr.net/npm/slick-carousel@1.8.1/slick/slick.min.js"></script>

    <script type="text/javascript">
        $(document).ready(function(){
          $('.league__slideshow').slick({
            adaptiveHeight: true,
            autoplay: false
          });
        });
    </script>

</body>
</html>